@media print {
  /* Remove browser defaults and push content up */
  @page {
    margin: 0;
  }
  html, body {
    margin: 0;
    padding: 0;
  }

  /* Hide everything except the report (#output) and the canvas */
  body * {
    visibility: hidden;
  }

  /* Show only the report text and canvas */
  #output,
  #canvas {
    visibility: visible;
  }

  /* Force the report text to start at the very top */
  #output {
    position: static;       /* Let it flow normally */
    top: auto;
    left: auto;
    width: 100%;            /* Full width */
    white-space: pre-wrap;  /* Preserve line breaks/spaces */
    margin: 0;              /* No extra margin */
    padding: 0;             /* No padding */
    background: none;       /* Remove any gray background */
    border: none;           /* Remove border */
    overflow: visible;
    page-break-after: avoid;/* Keep canvas on same page */
  }

  /* Put the canvas directly underneath the report, at 25% width */
  #canvas {
    position: static;
    display: block;
    margin: 16px 0 0 0;       /* Small gap from report */
    border: none;             /* No border in print */
    width: 25%;               /* 25% of page width */
    height: auto;             /* Maintain aspect ratio */
    page-break-before: avoid;
    page-break-inside: avoid;
  }
}
